.monaco-editor-container {
  width: 100%;
  height: 100%;
  position: relative;
  overflow: hidden;
}

.monaco-loading {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  height: 100%;
  gap: 12px;
  color: var(--text-secondary);
  font-size: 14px;
}

.monaco-loading-spinner {
  width: 32px;
  height: 32px;
  border: 3px solid var(--border-color);
  border-top-color: var(--accent-color);
  border-radius: 50%;
  animation: monaco-spin 0.8s linear infinite;
}

@keyframes monaco-spin {
  to {
    transform: rotate(360deg);
  }
}

.monaco-highlighted-line {
  background-color: rgba(255, 213, 0, 0.2) !important;
  animation: monaco-highlight-fade 2s ease-out forwards;
}

.monaco-highlighted-glyph {
  background-color: var(--accent-color);
  width: 3px !important;
  margin-left: 3px;
}

@keyframes monaco-highlight-fade {
  0% {
    background-color: rgba(255, 213, 0, 0.3);
  }
  70% {
    background-color: rgba(255, 213, 0, 0.2);
  }
  100% {
    background-color: transparent;
  }
}

.monaco-editor {
  --vscode-editor-background: var(--bg-primary);
  --vscode-editorLineNumber-foreground: var(--text-tertiary);
  --vscode-editorLineNumber-activeForeground: var(--text-primary);
  --vscode-editor-lineHighlightBackground: var(--bg-hover);
  --vscode-editorCursor-foreground: var(--accent-color);
  --vscode-editor-selectionBackground: rgba(var(--accent-color-rgb), 0.3);
}

.monaco-editor .scrollbar {
  background: transparent !important;
}

.monaco-editor .scrollbar .slider {
  background: var(--scrollbar-thumb) !important;
  border-radius: 4px !important;
}

.monaco-editor .scrollbar .slider:hover {
  background: var(--scrollbar-thumb-hover) !important;
}

.monaco-editor .minimap {
  opacity: 0.6;
  transition: opacity 0.2s ease;
}

.monaco-editor:hover .minimap {
  opacity: 1;
}

.monaco-editor .monaco-menu {
  background-color: var(--bg-secondary) !important;
  border: 1px solid var(--border-color) !important;
  border-radius: 8px !important;
  box-shadow: var(--shadow-lg) !important;
  overflow: hidden;
}

.monaco-editor .monaco-menu .monaco-action-bar.vertical .action-item {
  padding: 4px 8px;
}

.monaco-editor .monaco-menu .monaco-action-bar.vertical .action-item:hover {
  background-color: var(--bg-hover) !important;
}

.monaco-editor .monaco-menu .monaco-action-bar.vertical .action-label {
  color: var(--text-primary) !important;
  font-size: 13px;
}

.monaco-editor .margin-view-overlays .folding {
  opacity: 0;
  transition: opacity 0.15s ease;
}

.monaco-editor .margin-view-overlays:hover .folding,
.monaco-editor .margin-view-overlays .folding.collapsed {
  opacity: 1;
}

.monaco-editor .bracket-match {
  background-color: rgba(var(--accent-color-rgb), 0.2) !important;
  border: 1px solid var(--accent-color) !important;
}

.monaco-editor .findMatch {
  background-color: rgba(255, 213, 0, 0.4) !important;
  border: 1px solid rgba(255, 213, 0, 0.8) !important;
}

.monaco-editor .currentFindMatch {
  background-color: rgba(255, 213, 0, 0.6) !important;
  border: 2px solid #ffd500 !important;
}

.monaco-editor .squiggly-error {
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'%3E%3Cg fill='%23f48771'%3E%3Cpolygon points='5.5,0 2.5,3 1.1,3 4.1,0'/%3E%3Cpolygon points='4,0 6,2 6,0.6 5.4,0'/%3E%3Cpolygon points='0,2 1,3 2.4,3 0,0.6'/%3E%3C/g%3E%3C/svg%3E") repeat-x bottom left !important;
}

.monaco-editor .squiggly-warning {
  background: url("data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 6 3' enable-background='new 0 0 6 3' height='3' width='6'%3E%3Cg fill='%23ffd500'%3E%3Cpolygon points='5.5,0 2.5,3 1.1,3 4.1,0'/%3E%3Cpolygon points='4,0 6,2 6,0.6 5.4,0'/%3E%3Cpolygon points='0,2 1,3 2.4,3 0,0.6'/%3E%3C/g%3E%3C/svg%3E") repeat-x bottom left !important;
}

[data-theme="dark"] .monaco-editor {
  --vscode-editor-background: var(--bg-primary);
  --vscode-editorGutter-background: var(--bg-primary);
}

[data-theme="light"] .monaco-editor {
  --vscode-editor-background: var(--bg-primary);
  --vscode-editorGutter-background: var(--bg-primary);
}

.monaco-editor,
.monaco-editor .overflow-guard {
  border-radius: 0 !important;
}

.monaco-editor .line-numbers {
  font-family: 'Consolas', 'Monaco', 'Courier New', monospace !important;
}

.monaco-editor .margin,
.monaco-editor .lines-content {}

.monaco-editor .lines-content .core-guide-indent {
  box-shadow: 1px 0 0 0 var(--border-color) inset !important;
}

.monaco-editor .lines-content .core-guide-indent-active {
  box-shadow: 1px 0 0 0 var(--text-tertiary) inset !important;
}

.monaco-editor .view-lines {}